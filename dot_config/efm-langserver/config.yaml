version: 2
tools:
  markdown-textlint: &markdown-textlint
    lint-command: 'bunx --no-install textlint -f unix --stdin --stdin-filename "${INPUT}"'
    lint-ignore-exit-code: true
    lint-stdin: true
    lint-formats:
      - "%f:%l:%c: %m [%trror/%r]"
    root-markers:
      - .textlintrc
      - .textlintrc.json
      - .textlintrc.js

  markdown-markdownlint: &markdown-markdownlint
    lint-command: 'markdownlint -s -c "~/.config/markdownlint/markdownlint.json"'
    lint-stdin: true
    lint-formats:
      - "%f:%l %m"
      - "%f:%l:%c %m"
      - "%f: %l: %m"

  shellcheck-lint: &shellcheck-lint
    prefix: shellcheck
    lint-command: "shellcheck -f gcc -x -"
    lint-stdin: true
    lint-formats:
      - "%f:%l:%c: %t%*[^:]: %m [SC%n]"

  cspell-lint: &cspell-lint
    prefix: cspell
    lint-command: "cspell lint --config ~/.config/cspell/cspell.config.json --no-progress --no-summary --no-color ${INPUT}"
    lint-formats:
      - "%f:%l:%c - %m"
      - "%f:%l:%c %m"

  hadolint-lint: &hadolint-lint
    prefix: hadolint
    lint-command: "hadolint --no-color"
    lint-formats:
      - "%f:%l %m"

languages:
  markdown:
    - <<: *markdown-textlint
    - <<: *markdown-markdownlint
  sh:
    - <<: *shellcheck-lint
  dockerfile:
    - <<: *hadolint-lint
  =:
    - <<: *cspell-lint
